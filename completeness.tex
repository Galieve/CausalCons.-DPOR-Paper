%!TEX root = main.tex
\subsection{Completeness}

By definition, $\textsc{explore-ce}$ is $I$-complete if for any given program $\prog$, it outputs every history in $\histOf[I]{\prog}$. Let $h \in \histOf[I]{\prog}$. Our objective is to produce a computable path of ordered histories that lead to $h$ (i.e. a (finite) ordered collection of ordered histories such that $h_0 = \emptyset$ and for every $n$, if $e= \nextEvent(h_n)$ $h_{n+1} = h_n \oplus e$, $h_{n+1} = h_n \oplus \wro(e, t)$ for some $t \in h_n$ or $h_{n+1} = \swap(h_n, r, t)$ for some $r, t \in h_n$).

However, algorithm works with ordered histories. Therefore, we first have to furnish $h$ with a total order called \textit{canonical order} that, if $h$ were reachable, it would coincide with its history order.  Secondly, we describe a function $\prev$ defined over the set of all partial histories that, if $h$ is reachable, $\prev(h)$ returns the previous history of $h$ computed by $\textsc{explore-ce}$. Then, we prove that there exists a collection of histories $h_n = h$, $h_0 = \emptyset$ and $h_n = \prev(h_{n+1})$. As it ends in the initial state, we can therefore prove that this collection conforms an actual computable path; which allow us to conclude that $h$ is reachable. Nevertheless, for proving both the equivalence between history order and canonical order and the soundness of function $\prev$ we will define the notion of \textit{$or$-respectfulness}, an invariant satisfied by every reachable history based on the events' relative positions in the oracle order.

\input{proofs/canonical-order}

\input{proofs/or-respectful}

\input{proofs/previous}